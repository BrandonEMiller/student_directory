GridStudentView=Backbone.View.extend({template:_.template($("#grid-template").text()),events:{"click .delete":"destroy"},className:"student-grid-unit",initialize:function(){$(".container").append(this.el),this.render()},render:function(){this.$el.append(this.template({student:this.model}))},destroy:function(){this.model.destroy(),this.remove()}}),AddView=Backbone.View.extend({events:{"click .add":"add"},initialize:function(){$(".container").append(this.el),this.render()},render:function(){this.$el.append('<input class="input_new_photo" placeholder="Photo URL"/><input class="input_new_name" placeholder="Name"/><input class="input_new_email" placeholder="Email"/><input class="input_new_phone" placeholder="Phone Number"/> <button class="add">Save</button>')},add:function(){var a=$(".input_new_name").val(),b=$(".input_new_email").val(),c=$(".input_new_phone").val(),d=$(".input_new_photo").val(),e={name:a,email:b,phone:c,image:d,github:""};addStudent=new Student,addStudent.set(e),students=new StudentCollection,students.add(addStudent),new GridStudentView({model:addStudent}),addStudent.save()}}),ThumbnailView=Backbone.View.extend({template:_.template($("#thumbnail-template").text()),initialize:function(){$(".container").append(this.el),this.render()},render:function(){this.$el.append(this.template({student:this.model}))}}),FullStudentView=Backbone.View.extend({template:_.template($("#full-template").text()),events:{"click .edit":"edit","click .save":"save"},initialize:function(){$(".container").append(this.el),this.render()},render:function(){this.$el.append(this.template({student:this.model}))},edit:function(){$(this.el).html('<input class="input_photo" value="'+this.model.get("image")+'"/><input class="input_name" value="'+this.model.get("name")+'"/><input class="input_email" value="'+this.model.get("email")+'"/><input class="input_phone" value="'+this.model.get("phone")+'"/> <button class="save">Save</button>')},save:function(){this.model.set("name",$(".input_name").val()),this.model.set("email",$(".input_email").val()),this.model.set("phone",$(".input_phone").val()),this.model.set("image",$(".input_photo").val()),this.model,this.render(),this.model.save()}}),Student=Backbone.Model.extend({idAttribute:"_id"}),StudentCollection=Backbone.Collection.extend({model:Student,url:"http://0.0.0.0:3000/collections/students"}),StudentRouter=Backbone.Router.extend({initialize:function(){},routes:{students:"showStudents","students/:_id":"showStudent",thumbnails:"showThumbnails"},showStudents:function(){$(".container").html(""),this.students=new StudentCollection,this.students.fetch({success:function(a){a.each(function(a){new GridStudentView({model:a})}),new AddView}})},showThumbnails:function(){$(".container").html(""),this.thumbnails=new StudentCollection,this.thumbnails.fetch({success:function(a){a.each(function(a){new ThumbnailView({model:a})})}})},showStudent:function(a){$(".container").html(""),this.thumbnails.fetch({success:function(b){var c=b.get(a);new FullStudentView({model:c})}})}});var router=new StudentRouter;Backbone.history.start();